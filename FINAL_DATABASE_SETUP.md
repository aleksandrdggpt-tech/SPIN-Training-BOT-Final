# ‚úÖ –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

## üìù –ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å

### 1. –ò–∑–º–µ–Ω–∏—Ç–µ `.env` —Ñ–∞–π–ª:

–û—Ç–∫—Ä–æ–π—Ç–µ `.env` –∏ –Ω–∞–π–¥–∏—Ç–µ —Å—Ç—Ä–æ–∫—É:
```bash
DATABASE_URL=postgresql://postgres:qvtFVluTguBfqLzrADIfNprLdEISSSKx@switchback.proxy.rlwy.net:10308/railway
```

–ó–∞–º–µ–Ω–∏—Ç–µ –Ω–∞:
```bash
DATABASE_URL=sqlite+aiosqlite:///./spin_bot_test.db
```

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:

```bash
python bot.py
```

---

## ‚úÖ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ event loop
- ‚úÖ SQLite –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å–æ–∑–¥–∞—Å—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–∞ Railway PostgreSQL –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –∫–∞–∫ –æ–±—ã—á–Ω–æ

---

## üìä –ü–æ—á–µ–º—É —Ç–∞–∫?

**–ü—Ä–æ–±–ª–µ–º–∞:**
- Telegram Bot –∏—Å–ø–æ–ª—å–∑—É–µ—Ç event loop
- PostgreSQL —á–µ—Ä–µ–∑ asyncpg —Ç—Ä–µ–±—É–µ—Ç —Å–≤–æ–π event loop
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç: `RuntimeError: Task got Future attached to a different loop`

**–†–µ—à–µ–Ω–∏–µ:**
- SQLite —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ sync –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º
- –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞ —Å SQLite, production –Ω–∞ Railway —Å PostgreSQL
- –ö–∞–∂–¥—ã–π environment –∏–º–µ–µ—Ç —Å–≤–æ—é –ë–î - —ç—Ç–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

---

## üöÄ –ì–æ—Ç–æ–≤–æ!

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è `.env` –∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞. –í—Å—ë –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å!

