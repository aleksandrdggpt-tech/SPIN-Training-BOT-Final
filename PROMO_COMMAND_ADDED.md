# ‚úÖ –ö–æ–º–∞–Ω–¥–∞ /promo –¥–æ–±–∞–≤–ª–µ–Ω–∞

## üéØ –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `/promo`
**–§–∞–π–ª:** `modules/payments/handlers.py`

```python
async def promo_command(update: Update, context: ContextTypes.DEFAULT_TYPE):
    """Handle /promo command - activate promocode."""
    telegram_id = update.effective_user.id
    
    if not context.args:
        await update.message.reply_text(
            "üéüÔ∏è **–ê–ö–¢–ò–í–ê–¶–ò–Ø –ü–†–û–ú–û–ö–û–î–ê**\n\n"
            "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: `/promo <–∫–æ–¥>`\n\n"
            "–ü—Ä–∏–º–µ—Ä: `/promo WINTER2025`\n\n"
            "–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /payment –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞."
        )
        return
    
    code = context.args[0].strip().upper()
    
    async with get_session() as session:
        success, message = await activate_promocode(code, telegram_id, session)
    
    await update.message.reply_text(message)
    
    if success:
        await update.message.reply_text(
            "–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∫–æ–º–∞–Ω–¥–æ–π /start"
        )
```

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö

```python
# Promocode command
application.add_handler(CommandHandler("promo", promo_command))
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–∞ –≤ /help

**–§–∞–π–ª:** `bot.py`

–í —Å–ø—Ä–∞–≤–∫–µ –¥–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª:
```
üí≥ –ü–æ–¥–ø–∏—Å–∫–∞ –∏ –¥–æ—Å—Ç—É–ø:
/payment - –ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –∏–ª–∏ –ø–æ–ª—É—á–∏—Ç—å –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π –¥–æ—Å—Ç—É–ø
/promo <–∫–æ–¥> - –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥
```

---

## üìù –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä 1: –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞
```
/promo KUTUZOV
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚úÖ –ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!

–í—ã –ø–æ–ª—É—á–∏–ª–∏ 1 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫!

–¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –Ω–∞—á–∞—Ç—å —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫—É –∫–æ–º–∞–Ω–¥–æ–π /start
```

### –ü—Ä–∏–º–µ—Ä 2: –ë–µ–∑ –∫–æ–¥–∞
```
/promo
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üéüÔ∏è –ê–ö–¢–ò–í–ê–¶–ò–Ø –ü–†–û–ú–û–ö–û–î–ê

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /promo <–∫–æ–¥>

–ü—Ä–∏–º–µ—Ä: /promo WINTER2025

–ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É /payment –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤—Å–µ—Ö —Å–ø–æ—Å–æ–±–æ–≤ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞.
```

### –ü—Ä–∏–º–µ—Ä 3: –ù–µ–≤–µ—Ä–Ω—ã–π –ø—Ä–æ–º–æ–∫–æ–¥
```
/promo WRONGCODE
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ùå –ü—Ä–æ–º–æ–∫–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω
```

---

## ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
- ‚úÖ –ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫–æ–¥–∞ –∫ –≤–µ—Ä—Ö–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–º–æ–∫–æ–¥–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å—Ç–µ—á–µ–Ω–∏—è —Å—Ä–æ–∫–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã (—Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏/–º–µ—Å—è—Ü/–∫—Ä–µ–¥–∏—Ç—ã)
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–ø—Ä–∞–≤–∫–∏ –±–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ –≤ /help

### –¢–∏–ø—ã –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤:
- üéÅ `trainings` - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- üìÖ `free_month` - –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –º–µ—Å—è—Ü –ø–æ–¥–ø–∏—Å–∫–∏
- üíé `credits` - –ö—Ä–µ–¥–∏—Ç—ã

---

## üîÑ –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ —Å–ø–æ—Å–æ–±—ã –∞–∫—Ç–∏–≤–∞—Ü–∏–∏

1. **–ß–µ—Ä–µ–∑ UI:** `/payment` ‚Üí "üéüÔ∏è –£ –º–µ–Ω—è –µ—Å—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥"
2. **–ß–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—É:** `/promo <–∫–æ–¥>`

---

## üìä –°—Ç–∞—Ç—É—Å

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –ö–æ–º–∞–Ω–¥–∞ /promo | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è handler | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| –í /help | ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ |
| –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–º–æ–∫–æ–¥–∞ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –Ω–∞–≥—Ä–∞–¥—ã | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |
| –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ | ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç |

---

**–î–∞—Ç–∞:** 2025-10-28
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

